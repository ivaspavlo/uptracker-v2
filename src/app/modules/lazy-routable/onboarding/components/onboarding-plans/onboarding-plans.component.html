
<section class="row no-gutters">
  
  <form [formGroup]="form" class="col-12 d-flex align-items-center">
    <div class="promo overflow-hidden">
      <mat-form-field appearance="outline" class="promo__form-field width-100 form-field-wrapper form-field-wrapper--suffix-btn">
        <mat-label>Promo code</mat-label>
        <input matInput [formControl]="promoCtrl">
        <button
          mat-icon-button matSuffix
          (click)="applyPromo.emit(promoCtrl.value)"
          class="up-input-icon-btn"
          [ngClass]="{ 'up-input-icon-btn--error': promo && !promo.valid }">
            <mat-icon svgIcon="arrow-right-small"></mat-icon>
        </button>
      </mat-form-field>
    </div>
    <p *ngIf="promo && !promo.valid" class="promo__warn font-14 color-warning ml-rem-1_5 font-weight-400">The code is invalid</p>
  </form>

  <div class="row no-gutters mb-rem-1_5 mt-rem-2">
    <p class="max-width-600 color-grey-500 letter-spacing-primary font-weight-400 line-height-16">Please select your plan. You can change plan or cancel subsription at any time in “Account Settings” page</p>
  </div>

  <div class="col-12">
    <app-account-plans
      [plans]="plans"
      [promo]="promo && promo.valid ? promo : null"
      (qtyChange)="onQtyChange($event)"
      (planChange)="onPlanChange($event)"
    ></app-account-plans>
  </div>

</section>
